<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>FP Demo</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

    <h1>Functional Programming Demo</h1>

    <div><pre><code>const doctors = [
        { number: 1, actor: 'William Hartnell',      begin: 1963, end: 1966 },
        { number: 2, actor: 'Patrick Troughton',     begin: 1966, end: 1969 },
        { number: 3,  actor: 'Jon Pertwee',           begin: 1970, end: 1974 },
        { number: 4,  actor: 'Tom Baker',             begin: 1974, end: 1981 },
        { number: 5,  actor: 'Peter Davison',         begin: 1982, end: 1984 },
        { number: 6,  actor: 'Colin Baker',           begin: 1984, end: 1986 },
        { number: 7,  actor: 'Sylvester McCoy',       begin: 1987, end: 1989 },
        { number: 8,  actor: 'Paul McGann',           begin: 1996, end: 1996 },
        { number: 9,  actor: 'Christopher Eccleston', begin: 2005, end: 2005 },
        { number: 10, actor: 'David Tennant',         begin: 2005, end: 2010 },
        { number: 11, actor: 'Matt Smith',            begin: 2010, end: 2013 },
        { number: 12, actor: 'Peter Capaldi',         begin: 2013, end: 2013 }
      ];</pre></code></div>


    <h3>.map() => returns a new array of values, which have been manipulated in some way</h3>
    <div class="codeblock"><pre><code>doctors.map(function(doctor) {
      return {
        number: doctor.number,
        name: doctor.actor.split(' '),
        yearsPlayed: (doctor.end - doctor.begin) + 1
      }
    });</pre></code></div>
    <p>Return a new array of doctors; each new object has a number, name, and yearsPlayed property</p>

<hr>

    <h3>.filter() => returns a new array of values based on conditional return statement</h3>
    <div class="codeblock">
    <pre><code>doctors.filter(function(doctor) {
      return doctor.number > 10;
    });</pre></code>
    </div>
    <p>Return a new array of doctors; only those with a number value greater than 10</p>

<hr>
    <div class="codeblock">
    <pre><code>let filteredDocs = doctors.filter(function(doctor) {
      return doctor.number > 10;
    });
    console.table(filteredDocs);</pre></code></div>
    <p>Do the same thing and assign the output to a variable called "filteredDocs" and then display with console.table()</p>

<hr>


    <h3>.map() and .filter() chain</h3>
    <div class="codeblock">
      <pre><code>doctors.map(function(doctor) {
      return {
          number: doctor.number,
          name: doctor.actor.split(' '),
          yearsPlayed: (doctor.end - doctor.begin) + 1
        }
      }).filter(function(doctor) {
        // Newly mapped array is returned from map, and filter is called on that new array
        return doctor.yearsPlayed < 5
        // We're now filtering on the newly returned object properties.
    });</pre></code></div>
    <p>Use a .map() to return an array of doctor objects with the following structure: a "number" property, a "name" property that holds an array with the first and last names as separate elements, and a "yearsPlayed" property that indicates how long that actor was in the role. Then, filter the results so that the output is only the doctors who were in the role for less than 5 years.
<hr>

    <h3>.reduce() is used for taking an array of values and returning a single new value or a new array of values</h3>
    <p>var arr = [34, 55, 3, 23, 12, 7, 99]</p>
    <div class="codeblock"><pre><code>arr.reduce(function(acc, current) {
      return acc + current
    });</pre></code></div>
    <p>Return the sum of all values: 233 (using default initial value of 0)</p>
    <div class="codeblock">
      <pre><code>arr.reduce(function(acc, current) {
      return acc + current
    }, 1);</pre></code></div>
    <p>Return 234 by changing the initial value to 1</p>

<hr>

    <h3>We can also pass an array as the accumulator!</h3>
    <div class="codeblock">
      <pre><code>doctors.reduce(function(acc, curr) {
    if (curr.number > 10) {
      acc.push({
        number: curr.number,
        name: curr.actor.split(' '),
        yearsPlayed: (curr.end - curr.begin) + 1
      })
    }
    return acc
    }, []);</pre></code></div>
    <p>For doctors with a number greater than 10, return an array of doctor objects that follows the structure we used in the map+filter example above</p>
    <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
    <script src='app.js' type="text/javascript"></script>
  </body>
</html>
